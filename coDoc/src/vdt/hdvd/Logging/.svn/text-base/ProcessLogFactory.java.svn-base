/**
 * 
 */
package vdt.hdvd.Logging;

import org.eclipse.swt.widgets.Display;

import vdt.hdvd.global.ConsoleWriter;
import vdt.hdvd.process.StreamReader;
import vdt.hdvd.views.QemuLogView;

/**
 * @author michael
 * Creates handlers for process output.
 */
public class ProcessLogFactory
{
    /**
     * Creates a handler that writes to the QemuLogView
     * @return StreamReader to be used by the launcher
     */
    static public StreamReader create_QemuLogView_writer()
    {
        return new StreamReader() {
            @Override
            public void input_handler(String log_entry) {
                Display.getDefault().syncExec(
                    new ProcessLogViewContainer(log_entry) {
                        @Override
                        public void run() {
                        	QemuLogView.getInstance().Write(this._log_entry);
                        }
                });
            }
        };
    }
    
    /**
     * Creates a handler that writes to the SvdLogView
     * @return StreamReader to be used by the launcher
     */
/*    static public StreamReader create_SvdLogView_writer()
    {
        return new StreamReader() {
            public void input_handler(String input) {
                Display.getDefault().syncExec(
                    new ProcessLogViewContainer(input) {
                        @Override
                        public void run() {
                            SvdLogView.getInstance().Write(this._log_entry);
                        }
                    });
            }
        };
    }*/
    
    /**
     * Creates a handler that writes to the Console
     * @return StreamReader to be used by the launcher
     */
    static public StreamReader create_ConsoleWriter_writer()
    {
        return new StreamReader() {
            public void input_handler(String input) {
                ConsoleWriter.print(input);
            }
        };
    }

    /**
     * Creates a handler that writes to stderr
     * @return StreamReader to be used by the launcher
     */
    static public StreamReader create_stderr()
    {
        return new StreamReader();
    }
}
